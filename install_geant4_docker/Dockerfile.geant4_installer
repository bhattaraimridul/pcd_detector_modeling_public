FROM ubuntu:22.04
ENV DEBIAN_FRONTEND=noninteractive

# Build dependencies (minimal set that works for Geant4 builds)
RUN apt-get update && apt-get install -y \
    build-essential cmake git wget ca-certificates \
    libxerces-c-dev libexpat1-dev zlib1g-dev \
    && rm -rf /var/lib/apt/lists/*

# Copy installer script into image
COPY ./install_geant4.sh /install_geant4.sh
RUN chmod +x /install_geant4.sh

ENTRYPOINT ["/bin/bash", "-lc"]
